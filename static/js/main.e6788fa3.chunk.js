(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{104:function(e,a,t){},105:function(e,a,t){},111:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),o=t.n(l),c=t(22),s=t(6),i=t(29),u=t(67),m=t(68),p=t(12),d="USERS_LOGOUT",h=JSON.parse(localStorage.getItem("user")),g={user:h||null,errorMessage:null};var E=Object(i.c)({authenticationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_MESSAGE":return Object(p.a)({},e,{errorMessage:a.payload});case"SET_CURRENT_USER":return Object(p.a)({},e,{user:a.payload});case d:return{};case"GET_PAGE_DATA":return Object(p.a)({},e,{pageData:a.payload});default:return e}}}),b=Object(m.createLogger)(),f=Object(i.d)(E,Object(i.a)(u.a,b)),v=t(24),y=t.n(v);t(104),t(64),t(105);var O=t(25),S=t(69),j=function(e){var a=e.component,t=e.layout,n=Object(S.a)(e,["component","layout"]);return r.a.createElement(O.a,Object.assign({},n,{render:function(e){return r.a.createElement(t,null,r.a.createElement(a,e))}}))},w=t(14),L=t(15),C=t(19),A=t(16),N=t(18),R="http://startupapp1-001-site1.htempurl.com/api/",x=t(46),k=t(115),I=t(118),M=t(117),T=t(113),U=t(47),G=function(e){function a(){var e,t;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(C.a)(this,(e=Object(A.a)(a)).call.apply(e,[this].concat(r)))).handleLogout=function(e){e.preventDefault(),t.props.LogOut()},t}return Object(N.a)(a,e),Object(L.a)(a,[{key:"render",value:function(){var e,a=this.props.userData;if(a){var t=a.FullName,n=a.RoleName,l="http://startupapp1-001-site1.htempurl.com/UserImage/"+a.ImageUrl,o=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{id:"userFullName",className:"mr-2 d-none d-lg-inline text-gray-600 small font-weight-bolder"},"Welcome,",t),r.a.createElement("img",{className:"img-profile rounded-circle",style:{width:"40px"},src:l}));e=r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{title:o,alignRight:!0},"Admin"===n?r.a.createElement(k.a.Item,{as:s.b,to:"/Dashboard"},r.a.createElement(x.a,{className:"fa-sm fa-fw mr-2 text-gray-400",icon:U.c}),"Dashboard"):r.a.createElement(k.a.Item,{as:s.b,to:"/Account"},r.a.createElement(x.a,{className:"fa-sm fa-fw mr-2 text-gray-400",icon:U.b}),"My Account"),r.a.createElement(k.a.Divider,null),r.a.createElement(k.a.Item,{onClick:this.handleLogout},r.a.createElement(x.a,{className:"fa-sm fa-fw mr-2 text-gray-400",icon:U.a}),"Logout")))}else e=r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a.Item,null,r.a.createElement(I.a.Link,{as:s.b,to:"/Account/Login"},"Login")),r.a.createElement(I.a.Item,null,r.a.createElement(I.a.Link,{as:s.b,to:"/Account/Register"},"Register")));return r.a.createElement(M.a,{bg:"light",expand:"lg",fixed:"top"},r.a.createElement(T.a,null,r.a.createElement(M.a.Brand,{as:s.b,to:"/"},"StartUpApp"),r.a.createElement(M.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(M.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(I.a,{className:"ml-auto"},e))))}}]),a}(n.Component),F=Object(c.b)((function(e){return{userData:e.authenticationReducer.user}}),{LogOut:function(){return function(e){localStorage.removeItem("user"),e({type:d})}}})(G),_=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null),r.a.createElement("div",{className:"auth-wrapper container"},r.a.createElement("div",{className:"auth-inner"},e.children)))},D=function(e){return r.a.createElement("div",{className:"auth-wrapper container"},r.a.createElement("div",{className:"auth-inner"},e.children))},q=t(31),P=t(116),J=t(114),B=t(78),W=function(e){function a(){var e,t;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(C.a)(this,(e=Object(A.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:"",isLoading:!1},t.handleChange=function(e){t.setState(Object(p.a)({},t.state,Object(q.a)({},e.target.name,e.target.value)))},t.handleSubmit=function(e){t.setState(Object(p.a)({},t.state,{isLoading:!0})),e.preventDefault();var a=t.state,n=a.email,r=a.password;t.props.Authentication(n,r,t.props.history),t.setState(Object(p.a)({},t.state,{isLoading:!1}))},t}return Object(N.a)(a,e),Object(L.a)(a,[{key:"componentWillMount",value:function(){localStorage.getItem("user")&&this.props.history.push("/")}},{key:"render",value:function(){var e=this,a=this.state.isLoading;return r.a.createElement(P.a,{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Sign In"),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Email address"),r.a.createElement(P.a.Control,{value:this.state.email,onChange:function(a){return e.handleChange(a)},name:"email",type:"email",placeholder:"Enter email",required:!0})),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Password"),r.a.createElement(P.a.Control,{value:this.state.password,onChange:function(a){return e.handleChange(a)},type:"password",name:"password",placeholder:"Enter password",required:!0})),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Check,{type:"checkbox",label:" Remember me",name:"IsRemember"}),this.props.errorMessage&&r.a.createElement(P.a.Label,{className:"text-danger small text-right"},this.props.errorMessage),a&&r.a.createElement(J.a,{animation:"border"})),r.a.createElement(B.a,{variant:"primary",type:"submit",block:!0},"Login"),r.a.createElement("p",{className:"forgot-password text-right"},"Forgot ",r.a.createElement(s.b,{to:"/Account/ForgotPassword"},"password?")))}}]),a}(n.Component),z=Object(c.b)((function(e){return{errorMessage:e.authenticationReducer.errorMessage}}),{Authentication:function(e,a,t){return function(n){var r={Username:e,Password:a};y.a.post(R+"Users/Login",r).then((function(e){!0===e.data.Success?(localStorage.removeItem("user"),localStorage.setItem("user",JSON.stringify(e.data.Result)),n({type:"SET_CURRENT_USER",payload:e.data.Result}),t.push("/")):n({type:"SET_MESSAGE",payload:e.data.Message})}),(function(e){n({type:"SET_MESSAGE",payload:"Failed to connect to the server.."})}))}}})(W),$=function(e){function a(){var e,t;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(C.a)(this,(e=Object(A.a)(a)).call.apply(e,[this].concat(r)))).state={name:"",surname:"",email:"",password:"",isLoading:!1,message:""},t.handleChange=function(e){t.setState(Object(p.a)({},t.state,Object(q.a)({},e.target.name,e.target.value)))},t.handleSubmit=function(e){e.preventDefault(),t.setState(Object(p.a)({},t.state,{isLoading:!0}));var a=t.state,n={Name:a.name,Surname:a.surname,Email:a.email,Password:a.password};t.props.RegisterUser(n,(function(e){return t.RegisterResponse(e)}))},t.RegisterResponse=function(e){t.setState(Object(p.a)({},t.state,{isLoading:!1,message:e.Message}))},t}return Object(N.a)(a,e),Object(L.a)(a,[{key:"render",value:function(){var e=this,a=this.state,t=a.isLoading,n=a.message;return r.a.createElement(P.a,{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Sign Up"),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"First name"),r.a.createElement(P.a.Control,{type:"text",placeholder:"First name",name:"name",onChange:function(a){return e.handleChange(a)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement(P.a.Label,null,"Last name"),r.a.createElement(P.a.Control,{type:"text",placeholder:"Last name",name:"surname",onChange:function(a){return e.handleChange(a)},required:!0})),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Email address"),r.a.createElement(P.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:function(a){return e.handleChange(a)},required:!0})),r.a.createElement(P.a.Group,null,r.a.createElement(P.a.Label,null,"Password"),r.a.createElement(P.a.Control,{type:"password",placeholder:"Enter password",name:"password",onChange:function(a){return e.handleChange(a)},required:!0})),r.a.createElement(P.a.Group,null,this.props.errorMessage&&r.a.createElement(P.a.Label,{className:"text-danger small text-right"},this.props.errorMessage),t&&r.a.createElement(J.a,{animation:"border"})),n&&r.a.createElement(P.a.Label,{className:"text-danger small text-right"},n),r.a.createElement(B.a,{variant:"primary",type:"submit",block:!0},"Register"),r.a.createElement("p",{className:"forgot-password text-right"},"Already registered ",r.a.createElement(s.b,{to:"/Account/Login"},"login?")))}}]),a}(n.Component),H=Object(c.b)((function(e){return{}}),{RegisterUser:function(e,a){return function(t){y.a.post(R+"Users/RegisterUser",e).then((function(e){a&&a(e.data)}),(function(e){t({type:"SET_MESSAGE",payload:"Failed to connect to the server.."})}))}}})($),K=function(e){function a(){return Object(w.a)(this,a),Object(C.a)(this,Object(A.a)(a).apply(this,arguments))}return Object(N.a)(a,e),Object(L.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h1",null,"This is homepage"))}}]),a}(n.Component),Q=function(e){function a(){return Object(w.a)(this,a),Object(C.a)(this,Object(A.a)(a).apply(this,arguments))}return Object(N.a)(a,e),Object(L.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,"This is account page")}}]),a}(n.Component);var V=function(){return function(){var e=JSON.parse(localStorage.getItem("user"));e&&e.SessionToken?y.a.defaults.headers.common.Authorization="Bearer ".concat(e.SessionToken):(y.a.defaults.headers.common.Authorization="",delete y.a.defaults.headers.common.Authorization)}(),r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(O.c,null,r.a.createElement(j,{exact:!0,path:"/",layout:_,component:K}),r.a.createElement(j,{exact:!0,path:"/Account/Login",layout:D,component:z}),r.a.createElement(j,{exact:!0,path:"/Account/Register",layout:D,component:H}),r.a.createElement(j,{exact:!0,path:"/Account",layout:_,component:Q}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(s.a,null,r.a.createElement(c.a,{store:f},r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,a,t){e.exports=t(111)}},[[79,1,2]]]);
//# sourceMappingURL=main.e6788fa3.chunk.js.map